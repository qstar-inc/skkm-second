import{j as t,L as j}from"./index-BN4x1jzJ.js";import{T as u}from"./Table-G6tOVAGb.js";const b=({data:o,group:d,sr:i})=>{const r=o.filter(e=>e.sr==i).reduce((e,s)=>{const a=e.findIndex(l=>l.name===s.name&&l.sr===s.sr&&l.shop_id===s.shop_id);return a!==-1?s.date>e[a].date&&(e[a]=s):e.push(s),e},[]).filter(e=>e.t_balance!==0).sort((e,s)=>e.name!==s.name?n(e.name).localeCompare(n(s.name)):e.name.localeCompare(s.name));let c=0;r.forEach(e=>{c+=e.t_balance});function n(e){const s=e.match(/\[(.*?)\]/);return s?"["+s[1]+"]":""}function h(e){return e.split("[")[0].trim()}function x(e){return e<0?"fw-bold":""}function m(){return t.jsxs(t.Fragment,{children:[t.jsxs("h2",{className:"page-header",children:[d.toUpperCase()," Credit ",t.jsxs("span",{className:"h5",children:["[SR: ",i,"]"]})]}),t.jsxs(u,{striped:!0,bordered:!0,hover:!0,className:"credit-table",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-center",children:[t.jsx("th",{children:"Shop"}),t.jsx("th",{children:"Balance"}),t.jsx("th",{children:"Date"})]})}),t.jsx("tbody",{children:r.map((e,s)=>t.jsxs("tr",{className:"text-center",children:[t.jsxs("td",{children:[t.jsx(j,{to:`/skkm-second/transaction/${d}/${e.shop_id}`,className:"shop-link",children:h(e.name)}),t.jsx("br",{}),n(e.name)]}),t.jsx("td",{className:`${x(e.t_balance)} text-end`,children:e.t_balance.toLocaleString()}),t.jsx("td",{className:"text-center",children:e.date.toString()})]},`${s}`))}),t.jsx("tfoot",{children:t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("strong",{children:["Grand Total (",r.length," shops)"]})}),t.jsx("td",{className:"text-end",children:t.jsx("strong",{children:c.toLocaleString()})}),t.jsx("td",{})]})})]})]})}return t.jsx("div",{children:m()})};export{b as C};
